(window["webpackJsonpreact-user-demo"]=window["webpackJsonpreact-user-demo"]||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/default.3cb22185.png"},25:function(e,t,a){e.exports=a(36)},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(22),l=a.n(s),o=(a(30),a(5)),i=a(6),c=a(8),u=a(7),m=a(9),d=a(13),h=a(12),p=a(3),g=a(2),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={currentUserData:[]},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=g.reactLocalStorage.get("userId"),t=g.reactLocalStorage.getObject("allUserData");e?(this.setState({currentUserData:t[e]}),this.props.setCurrentUserData&&this.props.setCurrentUserData(t[e]),this.props.setAllUserData&&this.props.setAllUserData(t)):window.location.href="/"}},{key:"logout",value:function(){g.reactLocalStorage.set("userId","")}},{key:"render",value:function(){this.state.currentUserData;return n.a.createElement("div",{className:"header-container"},n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(d.b,{to:"/users/"},"Users")),n.a.createElement("li",null,n.a.createElement(d.b,{to:"/",onClick:this.logout},"Logout")))))}}]),t}(n.a.PureComponent),b=a(16),w=a.n(b),E=function(e){var t=e.items;return n.a.createElement("div",null,t&&t.length?t.map((function(e){return n.a.createElement("div",{key:"image"+e.id,className:"image-gallery",style:{backgroundImage:"url("+e.url+")"}})})):n.a.createElement("div",{key:"default-image",className:"image-gallery",style:{backgroundImage:"url("+w.a+")"}}))},f=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={currentUserData:{}},e.uploadPhoto=e.uploadPhoto.bind(Object(p.a)(e)),e.setCurrentUserData=e.setCurrentUserData.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setCurrentUserData",value:function(e){this.setState({currentUserData:e})}},{key:"uploadPhoto",value:function(e){var t=this.state.currentUserData;t=Object.assign({},t);var a=this;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){var e=a.result;t&&t(e)}}(e.target.files[0],(function(e){t.photos.push({id:t.photos.length?t.photos.length:0,url:e}),a.setState({currentUserData:t});var r=g.reactLocalStorage.getObject("allUserData");r[t.id]=t,g.reactLocalStorage.setObject("allUserData",r)}))}},{key:"render",value:function(){var e=this.state.currentUserData;return n.a.createElement("div",{className:"home-container"},n.a.createElement(v,{setCurrentUserData:this.setCurrentUserData}),n.a.createElement("br",null),n.a.createElement("h2",null,"My profile"),n.a.createElement("div",{className:"btn upload-button-container"},n.a.createElement("span",null,"Upload"),n.a.createElement("input",{type:"file",onChange:this.uploadPhoto})),n.a.createElement("div",null,n.a.createElement(E,{items:e.photos})))}}]),t}(n.a.PureComponent),y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={selectedUserData:{}},e.setAllUserData=e.setAllUserData.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setAllUserData",value:function(e){var t=this.props.match.params.id,a=e.find((function(e){return e.id===parseInt(t,0)}));this.setState({selectedUserData:a})}},{key:"render",value:function(){var e=this.state.selectedUserData;return n.a.createElement("div",null,n.a.createElement(v,{setAllUserData:this.setAllUserData}),!!e&&n.a.createElement("div",{className:"selected-user-details"},n.a.createElement("h2",null,e.userName),n.a.createElement(E,{items:e.photos})))}}]),t}(n.a.PureComponent),U=[{id:0,userName:"Jack",password:"developer7",photos:[]},{id:1,userName:"Jameson",password:"developer10",photos:[]},{id:2,userName:"Jim",password:"developer107",photos:[]}],O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={userName:"",password:"",newUserName:"",newPassword:"",newConfirmPassword:"",isRegistered:!0},e.login=e.login.bind(Object(p.a)(e)),e.validateFields=e.validateFields.bind(Object(p.a)(e)),e.register=e.register.bind(Object(p.a)(e)),e.onEnterKey=e.onEnterKey.bind(Object(p.a)(e)),e.showError=e.showError.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){Object.entries(g.reactLocalStorage.getObject("allUserData")).length||g.reactLocalStorage.setObject("allUserData",U),g.reactLocalStorage.get("userId")&&(window.location.href="/home")}},{key:"validateFields",value:function(e){for(var t=!0,a=0;a<e.length;a++)e[a]||(t=!1);return t}},{key:"login",value:function(){var e=this.state,t=e.userName,a=e.password;if(this.validateFields([t,a])){var r=g.reactLocalStorage.getObject("allUserData").find((function(e){return e.userName.toLowerCase()===t.trim().toLowerCase()}));!!r&&!!Object.entries(r).length&&r.password===a?(g.reactLocalStorage.setObject("userId",r.id),window.location.href="/home"):(this.showError("Username or password incorrect!!"),this.setState({userName:"",password:""}))}else this.showError()}},{key:"register",value:function(){var e=this.state,t=e.newUserName,a=e.newPassword,r=e.newConfirmPassword;if(this.validateFields([t,a,r])){var n=g.reactLocalStorage.getObject("allUserData");n.push({id:n.length,userName:t.trim(),password:a,photos:[]}),g.reactLocalStorage.setObject("allUserData",n),this.setState({newUserName:"",newPassword:"",newConfirmPassword:"",isRegistered:!0})}else a!==r?this.showError("Passwords do not match!"):this.showError()}},{key:"onEnterKey",value:function(e){"Enter"===e.key&&(this.state.isRegistered?this.login():this.register())}},{key:"showError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All fields are required!!";this.setState({errorMessage:e},(function(){var e=this;setTimeout((function(){e.setState({errorMessage:""})}),5e3)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.userName,r=t.password,s=t.newUserName,l=t.newPassword,o=t.newConfirmPassword,i=t.isRegistered,c=t.errorMessage;return n.a.createElement("div",null,n.a.createElement("div",{className:"login-container"},i?[n.a.createElement("div",{className:"login-input-label",key:"username"},"User Name: ",n.a.createElement("input",{value:a,onKeyPress:this.onEnterKey,onChange:function(t){return e.setState({userName:t.target.value})}})),n.a.createElement("div",{className:"login-input-label",key:"password"},"Password: ",n.a.createElement("input",{type:"password",onKeyPress:this.onEnterKey,value:r,onChange:function(t){return e.setState({password:t.target.value})}})),n.a.createElement("div",{className:"btn",key:"login",onClick:this.login},"Login")]:[n.a.createElement("div",{className:"login-input-label",key:"newUsername"},"User Name: ",n.a.createElement("input",{value:s,onKeyPress:this.onEnterKey,onChange:function(t){return e.setState({newUserName:t.target.value})}})),n.a.createElement("div",{className:"login-input-label",key:"newPassword"},"Password: ",n.a.createElement("input",{type:"password",value:l,onKeyPress:this.onEnterKey,onChange:function(t){return e.setState({newPassword:t.target.value})}})),n.a.createElement("div",{className:"login-input-label",key:"newConfirmPassword"},"Confirm Password: ",n.a.createElement("input",{type:"password",value:o,onKeyPress:this.onEnterKey,onChange:function(t){return e.setState({newConfirmPassword:t.target.value})}})),n.a.createElement("div",{className:"btn",onClick:this.register,key:"register"},"Register")],n.a.createElement("small",{onClick:function(){e.setState((function(e){return{isRegistered:!e.isRegistered}}))}},n.a.createElement("a",{href:null},i?"New User?":"Go to login")),!!c&&n.a.createElement("div",{className:"error-message"},c)),n.a.createElement("span",null,"NOTE:"),n.a.createElement("br",null),n.a.createElement("small",null,"* Details of newly registered user will be removed on clearing local storage."),n.a.createElement("br",null),n.a.createElement("small",null,"* Uploaded photos for all users will be removed on clearing local storage."))}}]),t}(n.a.PureComponent),j=function(e){var t=e.userData,a=t.photos[0]?t.photos[0].url:w.a;return n.a.createElement("div",{className:"user-card",onClick:function(){window.location.href="/profile/"+t.id}},n.a.createElement("div",{className:"user-card-icon",style:{backgroundImage:"url("+a+")"}}),n.a.createElement("div",{className:"user-card-name"},t.userName))},D=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={allUserData:[]},e.setAllUserData=e.setAllUserData.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setAllUserData",value:function(e){this.setState({allUserData:e})}},{key:"render",value:function(){var e=this.state.allUserData;return n.a.createElement("div",null,n.a.createElement(v,{setAllUserData:this.setAllUserData}),n.a.createElement("br",null),n.a.createElement("h2",null,"All users"),!!e&&e.map((function(e){return n.a.createElement(j,{userData:e})})))}}]),t}(n.a.PureComponent),k=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(d.a,null,n.a.createElement(h.a,{path:"/home",component:f}),n.a.createElement(h.a,{path:"/profile/:id",component:y}),n.a.createElement(h.a,{path:"/users",component:D}),n.a.createElement(h.a,{path:"/",exact:!0,component:O})))}}]),t}(n.a.PureComponent);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.dde437bf.chunk.js.map